<!DOCTYPE html>
<html lang="uk" class="theme-dark">
<head>
  <meta charset="UTF-8">
  <title>AppLab</title>
  <!-- Масштабування, підстроювання під екрани -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <!-- Peace Sans для заголовків -->
  <link rel="preconnect" href="https://fonts.cdnfonts.com" />
  <link href="https://fonts.cdnfonts.com/css/peace-sans" rel="stylesheet" />

  <!-- Montserrat для основного тексту та кнопок -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

  <style>
    /* БАЗОВЫЕ СТИЛИ */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      user-select: none;
      -webkit-touch-callout: none;
      font-family: 'Montserrat', sans-serif;
      transition: background 0.5s, color 0.5s;
      overscroll-behavior: auto;
      touch-action: auto;
    }

    /* ТЕМЫ */
    .theme-light { background: #ffffff; color: #000000; }
    .theme-dark  { background: #000000; color: #f0f0f0; }
    .theme-cyber { background: #000000; color: #0ff; }
    .theme-retro { background: #f2dcb3; color: #3b2d1f; }
    .theme-forest{ background: #2e4600; color: #b0ffb0; }

    /* Скрываем соц. иконки и основное меню до завершения загрузки */
    .social-icons,
    .container {
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    /* ЭКРАН ЗАГРУЗКИ */
    .loader {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background-color: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 99999;
    }
    /* Псевдоэлемент для анимированного белого блика */
    .loader::after {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background-image: linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.2) 50%, transparent 60%);
      background-size: 200% 200%;
      animation: gradientAnimation 8s linear infinite 0s, fadeOut 1s linear 4s forwards;
      pointer-events: none;
    }
    @keyframes gradientAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    .loader h2 {
      font-family: 'Peace Sans', sans-serif;
      font-size: 3rem;
      margin: 0;
      animation: pulseText 2s ease-in-out infinite;
    }
    .loader p {
      margin-top: 10px;
      font-size: 1rem;
      animation: pulseText 2s ease-in-out infinite;
    }
    @keyframes pulseText {
      0%, 100% { text-shadow: 0 0 0px #fff; }
      50%      { text-shadow: 0 0 10px #fff; }
    }
    
    /* Прогресс-бар загрузки */
    .loader-progress {
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      height: 3px;
      background: rgba(255, 255, 255, 0.3);
      overflow: hidden;
    }
    .loader-progress::before {
      content: "";
      display: block;
      height: 100%;
      width: 0%;
      background: #fff;
      animation: progressBar 5s linear forwards;
    }
    @keyframes progressBar {
      from { width: 0%; }
      to { width: 100%; }
    }

    /* СОЦ. ИКОНКИ */
    .social-icons {
      position: absolute;
      top: 10px; left: 10px;
      display: flex;
      gap: 15px;
      z-index: 9999;
    }
    .social-link { text-decoration: none; color: currentColor; }
    .social-icon {
      width: 24px; height: 24px;
      fill: currentColor;
      transition: fill 0.3s;
    }

    /* КНОПКИ УПРАВЛЕНИЯ (ПРАВЫЙ ВЕРХ) */
    .controls {
      position: absolute;
      top: 10px; right: 10px;
      display: flex;
      align-items: center;
      gap: 15px;
      z-index: 9999;
    }
    .lang-switch span {
      cursor: pointer;
      font-weight: 700;
      text-decoration: underline;
    }
    .lang-switch span:hover { opacity: 0.7; }
    .theme-btn {
      cursor: pointer;
      font-weight: 700;
      background: transparent;
      border: 1px solid currentColor;
      padding: 3px 8px;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: 0.3s;
      color: currentColor;
    }
    .theme-btn:hover { opacity: 0.7; }
    .theme-icon {
      width: 16px; height: 16px;
      fill: currentColor;
      transition: fill 0.3s;
    }

    /* ОСНОВНОЙ КОНТЕЙНЕР */
    .container {
      width: 100vw; height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    }

    /* АНИМАЦИИ ПОЯВЛЕНИЯ */
    #title, #description, .buttons, #boldLine { opacity: 0; }
    @keyframes fadeInUp {
      from { transform: translateY(20px); opacity: 0; }
      to   { transform: translateY(0);     opacity: 1; }
    }
    @keyframes fadeInLeft {
      from { transform: translateX(-20px); opacity: 0; }
      to   { transform: translateX(0);     opacity: 1; }
    }
    @keyframes fadeInRight {
      from { transform: translateX(20px); opacity: 0; }
      to   { transform: translateX(0);     opacity: 1; }
    }
    @keyframes fadeInDown {
      from { transform: translateY(-20px); opacity: 0; }
      to   { transform: translateY(0);     opacity: 1; }
    }
    @keyframes scaleUp {
      from { transform: scale(0.8); opacity: 0; }
      to   { transform: scale(1);   opacity: 1; }
    }

    /* АНИМАЦИИ В ЗАВИСИМОСТИ ОТ ТЕМ */
    .theme-light #title.animate { animation: fadeInUp 0.8s ease forwards; }
    .theme-light #description.animate { animation: fadeInUp 0.8s ease 0.2s forwards; }
    .theme-light #boldLine.animate { animation: fadeInUp 0.8s ease 0.3s forwards; }
    .theme-light .buttons.animate { animation: fadeInUp 0.8s ease 0.4s forwards; }

    .theme-dark #title.animate { animation: fadeInLeft 0.8s ease forwards; }
    .theme-dark #description.animate { animation: fadeInLeft 0.8s ease 0.2s forwards; }
    .theme-dark #boldLine.animate { animation: fadeInLeft 0.8s ease 0.3s forwards; }
    .theme-dark .buttons.animate { animation: fadeInLeft 0.8s ease 0.4s forwards; }

    .theme-cyber #title.animate { animation: fadeInRight 0.8s ease forwards; }
    .theme-cyber #description.animate { animation: fadeInRight 0.8s ease 0.2s forwards; }
    .theme-cyber #boldLine.animate { animation: fadeInRight 0.8s ease 0.3s forwards; }
    .theme-cyber .buttons.animate { animation: fadeInRight 0.8s ease 0.4s forwards; }

    .theme-retro #title.animate { animation: fadeInDown 0.8s ease forwards; }
    .theme-retro #description.animate { animation: fadeInDown 0.8s ease 0.2s forwards; }
    .theme-retro #boldLine.animate { animation: fadeInDown 0.8s ease 0.3s forwards; }
    .theme-retro .buttons.animate { animation: fadeInDown 0.8s ease 0.4s forwards; }

    .theme-forest #title.animate,
    .theme-forest #description.animate,
    .theme-forest #boldLine.animate,
    .theme-forest .buttons.animate {
      animation: scaleUp 0.8s ease forwards;
    }
    .theme-forest .theme-icon path {
      transform: scale(0.8);
      transform-origin: center;
    }

    /* ЗАГОЛОВОК И ОПИСАНИЕ */
    #title {
      font-family: 'Peace Sans', sans-serif;
      font-size: 2.8rem;
      margin-bottom: 10px;
      font-weight: 700;
      text-align: center;
    }
    #description {
      font-size: 1rem;
      line-height: 1.1;
      max-width: 600px;
      margin: 0 10px;
      text-align: justify;
    }
    #boldLine {
      font-weight: 700;
      font-size: 0.9rem;
      margin: 10px 20px 0 20px;
      text-align: center;
    }
    .buttons {
      display: flex;
      flex-direction: column;
      gap: 15px;
      width: 70%;
      max-width: 350px;
      margin-top: 15px;
    }

    /* КАРТОЧКИ УСЛУГ */
    .service-card {
      flex: 0 0 100%;
      margin: 0;
      border-radius: 6px;
      padding: 15px;
      animation: slideIn 0.5s ease forwards;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 350px;
      position: relative;
    }
    @keyframes slideIn {
      from { transform: translateX(20px); opacity: 0; }
      to   { transform: translateX(0);     opacity: 1; }
    }
    .service-card h3 {
      margin: 0 0 10px 0;
      text-align: center;
    }
    .service-card p {
      font-size: 0.95rem;
      margin: 3px 5px;
      text-align: justify;
      line-height: 1.2;
    }

    /* СТИЛИ КНОПОК */
    .btn {
      font-family: 'Montserrat', sans-serif;
      padding: 12px 0;
      font-weight: 700;
      font-size: 1.1rem;
      text-decoration: none;
      text-align: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      border: 1px solid;
      cursor: pointer;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 5px currentColor, 0 0 10px currentColor;
    }
    .btn:active {
      transform: scale(0.95);
      box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
    }

    /* ФУТЕР */
    #footer {
      font-size: 0.85rem;
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-weight: 400;
      transition: color 0.5s;
    }

    /* МОДАЛЬНЫЙ ОВЕРЛЕЙ */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 99998;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      background: rgba(0, 0, 0, 0.8);
    }
    .modal-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* ПУЛЬСАЦИЯ РАМКИ МОДАЛОК */
    @keyframes pulseGlowLight {
      0%, 100% {
        box-shadow: 0 0 5px #000000, 0 0 10px #000000;
      }
      50% {
        box-shadow: 0 0 15px #000000, 0 0 30px #000000;
      }
    }
    @keyframes pulseGlowDark {
      0%, 100% {
        box-shadow: 0 0 5px #f0f0f0, 0 0 10px #f0f0f0;
      }
      50% {
        box-shadow: 0 0 15px #f0f0f0, 0 0 30px #f0f0f0;
      }
    }
    @keyframes pulseGlowCyber {
      0%, 100% {
        box-shadow: 0 0 5px #0ff, 0 0 10px #0ff;
      }
      50% {
        box-shadow: 0 0 15px #0ff, 0 0 30px #0ff;
      }
    }
    @keyframes pulseGlowRetro {
      0%, 100% {
        box-shadow: 0 0 5px #3b2d1f, 0 0 10px #3b2d1f;
      }
      50% {
        box-shadow: 0 0 15px #3b2d1f, 0 0 30px #3b2d1f;
      }
    }
    @keyframes pulseGlowForest {
      0%, 100% {
        box-shadow: 0 0 5px #b0ffb0, 0 0 10px #b0ffb0;
      }
      50% {
        box-shadow: 0 0 15px #b0ffb0, 0 0 30px #b0ffb0;
      }
    }
    .theme-light .modal {
      background: #ffffff;
      color: #000000;
      border: 2px solid #000000;
      box-shadow: 0 0 5px #000000, 0 0 10px #000000;
      animation: pulseGlowLight 2s infinite ease-in-out;
    }
    .theme-dark .modal {
      background: #000000;
      color: #f0f0f0;
      border: 2px solid #f0f0f0;
      box-shadow: 0 0 5px #f0f0f0, 0 0 10px #f0f0f0;
      animation: pulseGlowDark 2s infinite ease-in-out;
    }
    .theme-cyber .modal {
      background: #000000;
      color: #0ff;
      border: 2px solid #0ff;
      box-shadow: 0 0 5px #0ff, 0 0 10px #0ff;
      animation: pulseGlowCyber 2s infinite ease-in-out;
    }
    .theme-retro .modal {
      background: #f2dcb3;
      color: #3b2d1f;
      border: 2px solid #3b2d1f;
      box-shadow: 0 0 5px #3b2d1f, 0 0 10px #3b2d1f;
      animation: pulseGlowRetro 2s infinite ease-in-out;
    }
    .theme-forest .modal {
      background: #2e4600;
      color: #b0ffb0;
      border: 2px solid #b0ffb0;
      box-shadow: 0 0 5px #b0ffb0, 0 0 10px #b0ffb0;
      animation: pulseGlowForest 2s infinite ease-in-out;
    }

    /* СТИЛИ МОДАЛЬНОГО ОКНА */
    .modal {
      position: relative;
      padding: 20px;
      border-radius: 8px;
      max-width: 600px;
      width: 80%;
      min-height: 450px;
      transform: translateY(-20px);
      opacity: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    .modal.active {
      transform: translateY(0);
      opacity: 1;
    }
    /* Кнопка закрытия – стандартное поведение (клик по оверлею тоже закрывает окно) */
    .modal .modal-close {
      position: absolute;
      top: 10px; right: 10px;
      cursor: pointer;
      font-size: 2.5rem;
      color: inherit;
    }

    /* КОНТЕЙНЕР ДЛЯ СЛАЙДЕРА */
    .slider-container {
      position: relative;
      overflow: hidden;
      width: 100%;
      margin-top: 10px;
      min-height: 350px;
      padding-bottom: 40px;
    }
    .slider {
      display: flex;
      transition: transform 0.3s ease;
      height: 100%;
    }

    /* ТОЧКИ (ПАГИНАЦИЯ) */
    .dots {
      position: absolute;
      bottom: 10px;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      z-index: 99;
    }
    .dot {
      width: 10px;
      height: 10px;
      background: currentColor;
      border-radius: 50%;
      transition: transform 0.3s;
      cursor: pointer;
    }
    .dot.active {
      transform: scale(1.5);
    }

    /* КНОПКИ УСЛУГ В МОДАЛЬНОМ ОКНЕ "ЗАМОВИТИ" */
    .order-btn {
      cursor: pointer;
      font-weight: 700;
      background: transparent;
      border: 1px solid currentColor;
      padding: 4px 6px;
      transition: 0.3s;
      color: currentColor;
      width: 100%;
      margin: 10px 0;
      font-size: 0.8rem;
    }

    /* ФОРМА В МОДАЛЬНОМ ОКНЕ "ЗАМОВИТИ" */
    #modalOrder textarea, #modalOrder input {
      font-family: 'Montserrat', sans-serif;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-bottom: 10px;
      width: 100%;
      box-sizing: border-box;
      color: #000;
    }

    /* СТИЛИ СПИННЕРА */
    .spinner {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid currentColor;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Экран загрузки (5 секунд) -->
  <div class="loader" id="loader">
    <h2>AppLab</h2>
    <p>Будуємо майбутнє разом...</p>
    <!-- Прогресс-бар загрузки -->
    <div class="loader-progress"></div>
  </div>

  <!-- Соц. иконки -->
  <div class="social-icons">
    <!-- Telegram -->
    <a href="https://t.me/applab_ua" target="_blank" class="social-link" title="Telegram">
      <svg class="social-icon" viewBox="0 0 448 512">
        <path fill="currentColor"
              d="M446.7 72.2c-5.7-4.7-13.5-5.7-20.2-2.6L25 
                 210.6c-7.8 3.1-12.9 10.1-13.6 18s3.2 15.5 10.5 
                 19.6l111.2 59.6 42.7 136.4c2.1 6.6 7.6 11.4 
                 14.3 12.5 6.7 1.2 13.4-1.2 17.7-6.1l58.3-68.1 
                 99.3 80.3c3.6 2.9 8 4.4 12.6 4.4 2.6 0 5.2-.5 
                 7.7-1.6 6.9-2.9 11.8-8.9 13-16.2l64-368
                 c1.2-6.8-1.3-13.7-6.9-18.3z"/>
      </svg>
    </a>
    <!-- Instagram -->
    <a href="https://www.instagram.com/applabua?igsh=MXJkdmJocnJ5cnFy&utm_source=qr" target="_blank" class="social-link" title="Instagram">
      <svg class="social-icon" viewBox="0 0 448 512">
        <path fill="currentColor"
              d="M224.1 141c-63.6 0-114.9 
                 51.3-114.9 114.9s51.3 114.9 114.9 
                 114.9 114.9-51.3 114.9-114.9S287.7 
                 141 224.1 141zm0 189.6c-41.2 0-74.7
                 -33.5-74.7-74.7s33.5-74.7 74.7-74.7 
                 74.7 33.5 74.7 74.7-33.5 74.7-74.7 
                 74.7zm146.4-194.3c0 14.9-12.1 27-27 
                 27s-27-12.1-27-27 12.1-27 27-27 
                 27 12.1 27 27zm76.1 27.2c-1.7-35.7
                 -9.9-67.3-36.2-93.6s-57.9-34.4-93.6
                 -36.2c-37-2.1-147.9-2.1-184.9 0
                 -35.7 1.7-67.3 9.9-93.6 36.2s
                 -34.4 57.9-34.4 93.6c-2.1 37-2.1 
                 147.9 0 184.9 1.7 35.7 9.9 67.3 
                 36.2 93.6s57.9 34.4 93.6 36.2
                 c37 2.1 147.9 2.1 184.9 0 35.7
                 -1.7 67.3-9.9 93.6-36.2s34.4
                 -57.9 34.4-93.6c2.1-37 2.1
                 -147.9 0-184.9zM398.8 388c-7.8 
                 19.6-22.9 34.7-42.6 42.6-29.5 
                 11.7-99.5 9-132.1 9s-102.7 2.6
                 -132.1-9c-19.6-7.8-34.7-22.9
                 -42.6-42.6-11.7-29.5-9-99.5
                 -9-132.1s-2.6-102.7 9-132.1
                 c7.8-19.6 22.9-34.7 42.6-42.6
                 29.5-11.7 99.5-9 132.1-9s
                 102.7-2.6 132.1 9c19.6 7.8 
                 34.7 22.9 42.6 42.6 11.7 
                 29.5 9 99.5 9 132.1s2.7 
                 102.7-9 132.1z"/>
      </svg>
    </a>
  </div>

  <!-- Кнопки управления (правый верх) -->
  <div class="controls">
    <div class="lang-switch">
      <span id="langUa">UA</span> |
      <span id="langEn">EN</span>
    </div>
    <button class="theme-btn" id="themeBtn">
      <svg class="theme-icon" id="themeIcon" viewBox="0 0 24 24">
        <path d="M17.293 13.293A8 8 0 1110.707 2.707a8.003 8.003 0 006.586 10.586z"/>
      </svg>
      <span id="themeBtnText">Dark Mode</span>
    </button>
  </div>

  <!-- Основной контейнер (изначально скрыт) -->
  <div class="container">
    <h1 id="title">AppLab</h1>
    <p id="description">
      Ласкаво просимо до AppLab – вашого надійного партнера у створенні Telegram-ботів, міні-ігор, мобільних додатків та інтернет-магазинів. Також ми розробляємо програми та боти з ШІ, що допоможуть автоматизувати бізнес, залучити нових клієнтів та вивести ваші проєкти на новий рівень!
    </p>
    <p id="boldLine">Ми можемо реалізувати все, незалежно від рівня складності.</p>
    <div class="buttons">
      <div class="btn" id="btn1">Про нас</div>
      <div class="btn" id="btn3">Послуги</div>
      <div class="btn" id="btn2">Замовити</div>
      <div class="btn" id="btn4">Контакти</div>
    </div>
  </div>

  <!-- Футер -->
  <div id="footer"></div>

  <!-- Модальные окна -->

  <!-- Модальное окно "Про нас" -->
  <div class="modal-overlay" id="modalOverlayAbout">
    <div class="modal" id="modalAbout">
      <span class="modal-close" data-modal="modalOverlayAbout">&times;</span>
      <h2 id="modalAboutTitle">Про нас</h2>
      <p id="modalAboutContent">
        Ми – компанія AppLab, що спеціалізується на розробці інноваційних рішень для сучасного бізнесу. Наша команда складається з висококваліфікованих фахівців, які постійно вдосконалюють свої навички та впроваджують передові технології. Ми гарантуємо індивідуальний підхід, якість виконання та своєчасну реалізацію кожного проєкту.
      </p>
    </div>
  </div>

  <!-- Модальное окно "Послуги" (со слайдером) -->
  <div class="modal-overlay" id="modalOverlayServices">
    <div class="modal" id="modalServices">
      <span class="modal-close" data-modal="modalOverlayServices">&times;</span>
      <!-- Слайдер услуг -->
      <div id="servicesSliderContainer" class="slider-container">
        <div id="servicesSlider" class="slider"></div>
        <!-- Точки (пагинация) -->
        <div class="dots" id="dotsContainer"></div>
      </div>
    </div>
  </div>

  <!-- Модальное окно "Замовити" -->
  <div class="modal-overlay" id="modalOverlayOrder">
    <div class="modal" id="modalOrder">
      <span class="modal-close" data-modal="modalOverlayOrder">&times;</span>
      <div id="orderStep1">
        <p id="orderTitle"></p>
        <div id="orderServicesButtons" class="order-buttons"></div>
      </div>
      <div id="orderStep2" style="display: none;">
        <p id="orderStep2Desc">Опишіть коротко ваш проєкт:</p>
        <textarea id="projectDescription" rows="8"></textarea>
        <p id="orderStep2Name">Введіть ваше ім'я:</p>
        <input type="text" id="userName" placeholder="Ім'я">
        <p id="orderStep2Phone">Введіть ваш номер телефону:</p>
        <input type="text" id="phoneNumber" placeholder="+380...">
        <button id="submitOrder" class="theme-btn" style="margin-top: 10px;">
          Залишити заявку
        </button>
      </div>
      <div id="orderResponse" style="display: none; margin-top: 10px;"></div>
    </div>
  </div>

  <!-- Модальное окно "Контакти" -->
  <div class="modal-overlay" id="modalOverlayContacts">
    <div class="modal" id="modalContacts">
      <span class="modal-close" data-modal="modalOverlayContacts">&times;</span>
      <h2 id="modalContactsTitle">Контакти</h2>
      <p id="modalContactsContent">
        <!-- Текст устанавливается через translations -->
      </p>
    </div>
  </div>

  <script>
    /* ПОЛНЫЙ JAVASCRIPT */

    document.addEventListener('DOMContentLoaded', () => {
      // Убираем фиксации Telegram (удалены вызовы enableClosingConfirmation, BackButton.hide, expand)

      // Лоадер скрывается через 5 секунд, после чего показываем основное меню и соц. иконки
      setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        document.querySelector('.container').style.opacity = '1';
        document.querySelector('.social-icons').style.opacity = '1';
        setLanguage('ua'); // Язык по умолчанию
        animateElements();
      }, 5000);

      // Переключатели языка
      document.getElementById('langUa').addEventListener('click', () => {
        setLanguage('ua');
        animateElements();
      });
      document.getElementById('langEn').addEventListener('click', () => {
        setLanguage('en');
        animateElements();
      });

      // Переключатель тем
      document.getElementById('themeBtn').addEventListener('click', cycleTheme);

      // Кнопки открытия модалок
      document.getElementById('btn1').addEventListener('click', () => {
        openModal('modalOverlayAbout');
      });
      document.getElementById('btn3').addEventListener('click', () => {
        openModal('modalOverlayServices');
        currentServiceIndex = 0;
        updateServicesSlider();
      });
      document.getElementById('btn2').addEventListener('click', () => {
        openModal('modalOverlayOrder');
        renderOrderServices();
      });
      document.getElementById('btn4').addEventListener('click', () => {
        openModal('modalOverlayContacts');
      });

      // Закрытие модалок – теперь по клику на кнопку закрытия и по клику на оверлей
      document.querySelectorAll('.modal-close').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const modalId = e.target.getAttribute('data-modal');
          closeModal(modalId);
        });
      });
      document.querySelectorAll('.modal-overlay').forEach(overlay => {
        overlay.addEventListener('click', (e) => {
          if(e.target === overlay) {
            const id = overlay.getAttribute('id');
            closeModal(id);
          }
        });
      });

      // Инициализация слайдера
      servicesSliderContainer = document.getElementById('servicesSliderContainer');
      servicesSlider = document.getElementById('servicesSlider');
      servicesSliderContainer.addEventListener('touchstart', handleTouchStart);
      servicesSliderContainer.addEventListener('touchmove', handleTouchMove);
      servicesSliderContainer.addEventListener('touchend', handleTouchEnd);
      
      // Отправка заявки (этап 2) – отправляем данные в Telegram
      document.getElementById('submitOrder').addEventListener('click', () => {
        const description = document.getElementById('projectDescription').value;
        const name = document.getElementById('userName').value;
        const phone = document.getElementById('phoneNumber').value;
        const message = `Нове замовлення з AppLab:\nОпис: ${description}\nІм'я: ${name}\nТелефон: ${phone}`;
        fetch(`https://api.telegram.org/bot7548740282:AAGjI2kJsiVC8C1dJWHU9EXDHdEF2BVJgkM/sendMessage?chat_id=2045410830&text=${encodeURIComponent(message)}`)
          .then(response => response.json())
          .then(data => console.log(data))
          .catch(error => console.error('Error:', error));
        
        document.getElementById('orderStep2').style.display = 'none';
        const responseDiv = document.getElementById('orderResponse');
        responseDiv.style.display = 'block';
        responseDiv.innerHTML = `<div class="spinner"></div>`;
        setTimeout(() => {
          responseDiv.innerHTML = (currentLang === 'ua')
            ? "Дякуємо, ми зв’яжемося з вами протягом години. Якщо у вас виникли питання – звертайтесь до нашого адміністратора: @applab_manager"
            : "Thank you, we will contact you within an hour. If you have any questions, please contact our administrator: @applab_manager";
        }, 3000);
      });
    });

    /* ТЕКСТЫ ДЛЯ ДВУХ ЯЗЫКОВ */
    const translations = {
      ua: {
        title: "AppLab",
        paragraph:
          "Ласкаво просимо до AppLab – вашого надійного партнера у створенні Telegram-ботів, міні-ігор, мобільних додатків та інтернет-магазинів. Також ми розробляємо програми та боти з ШІ, що допоможуть автоматизувати бізнес, залучити нових клієнтів та вивести ваші проєкти на новий рівень!",
        boldLine: "Ми можемо реалізувати все, незалежно від рівня складності.",
        btn1: "Про нас",
        btn2: "Замовити",
        btn3: "Послуги",
        btn4: "Контакти",
        footer: "© 2025 AppLab. Усі права захищено.",
        modalAboutTitle: "Про нас",
        modalAboutContent:
          "Ми – компанія AppLab, що спеціалізується на розробці інноваційних рішень для сучасного бізнесу. Наша команда складається з висококваліфікованих фахівців, які постійно вдосконалюють свої навички та впроваджують передові технології. Ми гарантуємо індивідуальний підхід, якість виконання та своєчасну реалізацію кожного проєкту.",
        orderStep2Desc: "Опишіть коротко ваш проєкт:",
        orderStep2Name: "Введіть ваше ім'я:",
        orderStep2Phone: "Введіть ваш номер телефону:",
        orderSubmit: "Залишити заявку",
        modalContactsTitle: "Контакти",
        modalContactsContent:
          "Зв'яжіться з нами:<br><br>Telegram: <a href='tg://resolve?domain=applab_manager' style='color: inherit; text-decoration: underline;'>@applab_manager</a><br>Email: <a href='mailto:applabua@gmail.com' style='color: inherit; text-decoration: underline;'>applabua@gmail.com</a><br><br>Ми завжди відкриті для співпраці та готові відповісти на всі ваші запитання.",
        orderTitle: "Оберіть послугу:"
      },
      en: {
        title: "AppLab",
        paragraph:
          "Welcome to AppLab – your reliable partner in creating Telegram bots, mini-games, mobile apps, and online stores. We also develop AI-powered programs and bots to automate your business, attract new customers, and take your projects to the next level!",
        boldLine: "We can create anything, regardless of complexity.",
        btn1: "About Us",
        btn2: "Order Now",
        btn3: "Services",
        btn4: "Contacts",
        footer: "© 2025 AppLab. All rights reserved.",
        modalAboutTitle: "About Us",
        modalAboutContent:
          "We are AppLab, a company specializing in innovative solutions for modern businesses. Our team of highly qualified professionals constantly hones their skills and implements cutting-edge technologies. We guarantee an individualized approach, quality execution, and timely project delivery.",
        orderStep2Desc: "Briefly describe your project:",
        orderStep2Name: "Enter your name:",
        orderStep2Phone: "Enter your phone number:",
        orderSubmit: "Submit Order",
        modalContactsTitle: "Contacts",
        modalContactsContent:
          "Contact us:<br><br>Telegram: <a href='tg://resolve?domain=applab_manager' style='color: inherit; text-decoration: underline;'>@applab_manager</a><br>Email: <a href='mailto:applabua@gmail.com' style='color: inherit; text-decoration: underline;'>applabua@gmail.com</a><br><br>We are always open for collaboration and ready to answer all your questions.",
        orderTitle: "Select a Service:"
      }
    };

    /* ДАННЫЕ ПО УСЛУГАМ (додано поле emoji) */
    const servicesData = {
      ua: [
        {
          title: "Додатки для Telegram (клікери, P2E, міні-ігри)",
          emoji: "🎮",
          content:
            "Ми розробляємо захоплюючі додатки для Telegram, які не лише розважають, а й залучають аудиторію..."
        },
        {
          title: "Розумні Telegram-боти для продажів",
          emoji: "🤖",
          content:
            "Наші бот-системи автоматизують процес продажів, інтегруючи CRM, аналітику та платіжні системи..."
        },
        {
          title: "Додатки та боти з штучним інтелектом",
          emoji: "🧠🤖",
          content:
            "Створюємо рішення з використанням штучного інтелекту для аналізу даних, автоматизації бізнес-процесів..."
        },
        {
          title: "Мобільні додатки для App Store та Google Play",
          emoji: "📱",
          content:
            "Розробляємо мобільні додатки з інтуїтивно зрозумілим дизайном та високою продуктивністю..."
        },
        {
          title: "Інтернет-магазини з інтеграцією оплат",
          emoji: "💳",
          content:
            "Створюємо сучасні інтернет-магазини з інтегрованими платіжними системами для безпечних транзакцій..."
        },
        {
          title: "Торгові боти для трейдингу",
          emoji: "📈",
          content:
            "Розробляємо торгових ботів, які аналізують ринкові дані в режимі реального часу та автоматично виконують операції..."
        },
        {
          title: "Автоматизація бізнесу",
          emoji: "⚙️",
          content:
            "Оптимізуємо бізнес-процеси через інтеграцію ERP та CRM систем, що підвищує продуктивність команди..."
        },
        {
          title: "Інтеграція штучного інтелекту",
          emoji: "🔮",
          content:
            "Впроваджуємо AI-модулі для аналізу великих даних, прогнозування трендів та створення персоналізованих рекомендацій..."
        },
        {
          title: "Сайти та блокчейн-додатки",
          emoji: "🌐🔗",
          content:
            "Розробляємо безпечні веб-сайти та децентралізовані рішення з використанням технологій блокчейну та смарт-контрактів..."
        }
      ],
      en: [
        {
          title: "Telegram Games (Clickers, P2E, Mini-Games)",
          emoji: "🎮",
          content:
            "We develop captivating Telegram games that entertain and engage users. Our projects incorporate modern trends..."
        },
        {
          title: "Smart Telegram Bots for Sales",
          emoji: "🤖",
          content:
            "Our bot systems automate sales processes by integrating CRM, analytics, and payment gateways for enhanced efficiency..."
        },
        {
          title: "AI Applications and Bots",
          emoji: "🧠🤖",
          content:
            "We create solutions with artificial intelligence for data analysis, business process automation, and recommendation systems..."
        },
        {
          title: "Mobile Apps for App Store & Google Play",
          emoji: "📱",
          content:
            "We design mobile apps with intuitive interfaces, high performance, and modern features to ensure a smooth experience..."
        },
        {
          title: "Online Stores with Payment Integration",
          emoji: "💳",
          content:
            "We build scalable online stores integrated with secure payment gateways to guarantee safe transactions..."
        },
        {
          title: "Trading Bots for Automated Trading",
          emoji: "📈",
          content:
            "Our trading bots analyze market data in real time and execute trades automatically using advanced algorithms..."
        },
        {
          title: "Business Process Automation",
          emoji: "⚙️",
          content:
            "We optimize business operations by integrating ERP and CRM systems, reducing routine tasks and boosting productivity..."
        },
        {
          title: "Integration of Artificial Intelligence",
          emoji: "🔮",
          content:
            "We implement AI modules for big data analytics, trend forecasting, and personalized recommendations to gain a competitive edge..."
        },
        {
          title: "Websites & Blockchain Applications",
          emoji: "🌐🔗",
          content:
            "We design secure websites and decentralized solutions using blockchain technology and smart contracts for enhanced security..."
        }
      ]
    };

    /* СПИСОК ТЕМ */
    const themes = [
      "theme-light",
      "theme-dark",
      "theme-cyber",
      "theme-retro",
      "theme-forest"
    ];
    let currentThemeIndex = 1; // Начинаем с темной
    let currentLang = "ua";    // Язык по умолчанию

    // ДЛЯ СЛАЙДЕРА
    let servicesSlider, servicesSliderContainer;
    let currentServiceIndex = 0, startX = 0, isDragging = false;
    let dots = [];

    // ДЛЯ ФОРМЫ "ЗАМОВИТИ"
    let selectedOrderServiceIndex = null;

    /* УСТАНОВКА ЯЗЫКА */
    function setLanguage(lang) {
      currentLang = lang;
      const t = translations[lang];

      document.getElementById('title').textContent = t.title;
      document.getElementById('description').innerHTML = t.paragraph;
      document.getElementById('boldLine').textContent = t.boldLine;
      document.getElementById('btn1').textContent = t.btn1;
      document.getElementById('btn2').textContent = t.btn2;
      document.getElementById('btn3').textContent = t.btn3;
      document.getElementById('btn4').textContent = t.btn4;
      document.getElementById('footer').innerHTML = t.footer;

      document.getElementById('modalAboutTitle').textContent = t.modalAboutTitle;
      document.getElementById('modalAboutContent').textContent = t.modalAboutContent;
      document.getElementById('orderStep2Desc').textContent = t.orderStep2Desc;
      document.getElementById('orderStep2Name').textContent = t.orderStep2Name;
      document.getElementById('orderStep2Phone').textContent = t.orderStep2Phone;
      document.getElementById('submitOrder').textContent = t.orderSubmit;
      document.getElementById('modalContactsTitle').textContent = t.modalContactsTitle;
      document.getElementById('modalContactsContent').innerHTML = t.modalContactsContent;
      document.getElementById('orderTitle').textContent = t.orderTitle;

      renderServicesSlider(lang);
    }

    /* РЕНДЕР СЛАЙДЕРА + ТОЧЕК */
    function renderServicesSlider(lang) {
      currentServiceIndex = 0;
      servicesSlider.innerHTML = "";
      const arr = servicesData[lang];

      arr.forEach((service) => {
        const card = document.createElement('div');
        card.className = 'service-card';
        card.innerHTML = `
          <h3>${service.title}</h3>
          <p>${service.content}</p>
        `;
        servicesSlider.appendChild(card);
      });

      createDots(arr.length);
      updateServicesSlider();
    }

    function createDots(count) {
      const dotsContainer = document.getElementById('dotsContainer');
      dotsContainer.innerHTML = "";
      dots = [];
      for(let i = 0; i < count; i++){
        const dot = document.createElement('div');
        dot.className = 'dot';
        dot.addEventListener('click', () => {
          currentServiceIndex = i;
          updateServicesSlider();
        });
        dotsContainer.appendChild(dot);
        dots.push(dot);
      }
    }

    function updateServicesSlider() {
      servicesSlider.style.transform = `translateX(${
        -currentServiceIndex * servicesSliderContainer.clientWidth
      }px)`;
      updateDots();
    }

    function updateDots() {
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentServiceIndex);
      });
    }

    /* РЕНДЕР КНОПОК ВЫБОРА УСЛУГ В "ЗАМОВИТИ" */
    function renderOrderServices() {
      const container = document.getElementById('orderServicesButtons');
      container.innerHTML = "";
      const arr = servicesData[currentLang];
      arr.forEach((service, index) => {
        const btn = document.createElement('button');
        btn.className = 'order-btn';
        btn.textContent = service.emoji + " " + service.title;
        btn.addEventListener('click', () => {
          selectedOrderServiceIndex = index;
          document.getElementById('orderStep1').style.display = 'none';
          document.getElementById('orderStep2').style.display = 'block';
        });
        container.appendChild(btn);
      });
    }

    /* СВАЙП-СОБЫТИЯ */
    function handleTouchStart(e) {
      startX = e.touches[0].clientX;
      isDragging = true;
    }
    function handleTouchMove(e) {
      if(!isDragging) return;
      const currentX = e.touches[0].clientX;
      const dx = currentX - startX;
      servicesSlider.style.transform = `translateX(${
        -currentServiceIndex * servicesSliderContainer.clientWidth + dx
      }px)`;
    }
    function handleTouchEnd(e) {
      isDragging = false;
      const endX = e.changedTouches[0].clientX;
      const dx = endX - startX;
      const threshold = 50;
      const arrLength = servicesData[currentLang].length;
      if(dx < -threshold && currentServiceIndex < arrLength - 1) {
        currentServiceIndex++;
      } else if(dx > threshold && currentServiceIndex > 0) {
        currentServiceIndex--;
      }
      updateServicesSlider();
    }

    /* ПЕРЕКЛЮЧЕНИЕ ТЕМ */
    function cycleTheme() {
      document.documentElement.classList.remove(themes[currentThemeIndex]);
      currentThemeIndex = (currentThemeIndex + 1) % themes.length;
      const newTheme = themes[currentThemeIndex];
      document.documentElement.classList.add(newTheme);
      const themeBtnText = document.getElementById('themeBtnText');
      const themeIcon = document.getElementById('themeIcon');
      switch(newTheme) {
        case "theme-light":
          themeBtnText.textContent = "Light Mode";
          themeIcon.setAttribute('viewBox', '0 0 24 24');
          themeIcon.innerHTML = `<path d="M12 3v2m0 14v2m7.07-7.07h2M3 12h2m15.07 4.93l1.414 1.414M4.93 4.93L6.343 6.343m12.727 0l-1.414 1.414M4.93 19.07l1.414-1.414M12 8a4 4 0 100 8 4 4 0 000-8z"/>`;
          break;
        case "theme-dark":
          themeBtnText.textContent = "Dark Mode";
          themeIcon.setAttribute('viewBox', '0 0 24 24');
          themeIcon.innerHTML = `<path d="M17.293 13.293A8 8 0 1110.707 2.707a8.003 8.003 0 006.586 10.586z"/>`;
          break;
        case "theme-cyber":
          themeBtnText.textContent = "Cyber Mode";
          themeIcon.setAttribute('viewBox', '0 0 24 24');
          themeIcon.innerHTML = `<path d="M13 2L3 14h7v6l7-12h-7z"/>`;
          break;
        case "theme-retro":
          themeBtnText.textContent = "Retro Mode";
          themeIcon.setAttribute('viewBox', '0 0 512 512');
          themeIcon.innerHTML = `<path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 400a152 152 0 11152-152 152 152 0 01-152 152zm0-224a72 72 0 1072 72 72 72 0 00-72-72z"/>`;
          break;
        case "theme-forest":
          themeBtnText.textContent = "Forest Mode";
          themeIcon.setAttribute('viewBox', '0 0 24 24');
          themeIcon.innerHTML = `<path d="M12 2C8 6 5 10 5 14c0 5.523 4.477 10 10 10 4 0 8-3 8-8 0-4-4-7-8-14z"/>`;
          break;
      }
      animateElements();
    }

    /* АНИМАЦИЯ ПОЯВЛЕНИЯ ЭЛЕМЕНТОВ */
    function animateElements() {
      document.getElementById('title').classList.add('animate');
      document.getElementById('description').classList.add('animate');
      document.getElementById('boldLine').classList.add('animate');
      document.querySelector('.buttons').classList.add('animate');
    }

    /* ОТКРЫТЬ/ЗАКРЫТЬ МОДАЛКУ */
    function openModal(modalId) {
      const modalOverlay = document.getElementById(modalId);
      modalOverlay.classList.add('active');
      const modal = modalOverlay.querySelector('.modal');
      setTimeout(() => { modal.classList.add('active'); }, 10);
    }
    function closeModal(modalId) {
      const modalOverlay = document.getElementById(modalId);
      const modal = modalOverlay.querySelector('.modal');
      modal.classList.remove('active');
      setTimeout(() => { modalOverlay.classList.remove('active'); }, 300);

      // Если закрываем окно заказа, сбрасываем шаги
      if(modalId === 'modalOverlayOrder'){
        document.getElementById('orderStep1').style.display = 'block';
        document.getElementById('orderStep2').style.display = 'none';
        document.getElementById('orderResponse').style.display = 'none';
      }
    }
  </script>
</body>
</html>
